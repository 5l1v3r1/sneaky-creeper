#!/usr/bin/python2
from sneakers import Exfil

mod = "file"

enc = ["b64"]

dataz = "very secret and private message"

print "Possible encoders:"
print Exfil.list_encoders()
print ""

t = Exfil(mod, enc)
t.set_channel_params({'sending': {'filename': 'test.txt'},
                      'receiving': {'filename': 'test.txt'}})
t.set_encoder_params(enc[0], {})

    # t.set_channel_params({
    #     "receiving": {
    #         "key": "DLs5xBBVbtLTQQWoFL5PiGatJ",
    #         "secret": "wJlw9JmjHfDzX5pFHjHaWSoKsj7P7FPyCuWMe8mQwXjbqvb8IV",
    #         "token": "4112856970-5BPJkbsnaAa5O8dfn4i2HhDSdoYofiOyG4WhzT7",
    #         "tsecret": "EcgeDFIj6tugIHT5rkeu39PSB75kZ9NwVNwFicHBKCPLO",
    #         "name": "dnelsontest"},
    #     "sending": {
    #         "key": "DLs5xBBVbtLTQQWoFL5PiGatJ",
    #         "secret": "wJlw9JmjHfDzX5pFHjHaWSoKsj7P7FPyCuWMe8mQwXjbqvb8IV",
    #         "token": "4112856970-5BPJkbsnaAa5O8dfn4i2HhDSdoYofiOyG4WhzT7",
    #         "tsecret": "EcgeDFIj6tugIHT5rkeu39PSB75kZ9NwVNwFicHBKCPLO",
    #         "name": "dnelsontest"
    #     }
    # })


print "Channel configuration:"
print t.channel_config()
print ""

print "Encoder 0 configuration:"
print t.encoder_config(enc[0])
print ""

t.send(dataz)

print "Recieved data:"
print t.receive()
